---
layout: default
title: Search all Publications on Learning to Hash
description: A list of research papers for Learning to Hash.
---

<h2>Search Publications</h2>
<p>
  Search across all papers in this collection. Use the search bar to filter by <strong>title</strong> 
  and <strong>authors</strong>. Click a title to open the paper’s page.
</p>

<!-- Loading Indicator -->
<div id="loading" aria-live="polite" role="status">
  <p>Loading Paper List…</p>
</div>

<!-- Search control -->
<div class="controls">
  <div class="search">
    <label for="globalSearch"><strong>Search</strong></label>
    <input id="globalSearch" type="search" placeholder="🔍 Search papers…" inputmode="search" />
    <button id="resetSearch" type="button">Clear</button>
  </div>
</div>

<div class="content-bound">
  <div class="table-wrap">
    <table id="allPapers" class="display stripe hover" style="width:100%;">
      <thead>
      <tr>
        <th>Year</th>
        <th>Title</th>
        <th>Authors</th>
        <th>Citations</th>
        <th style="display:none;">Authors (full, hidden)</th>
      </tr>
    </thead>
      <tbody><!-- rows added via JS --></tbody>
    </table>
  </div>
</div>

<style>
  :root{
    --sidebar-width: 0px;
    --page-gutter: clamp(12px, 2vw, 24px);
  }
  .controls { display:flex; flex-wrap:wrap; align-items:flex-start; gap:.6rem; margin:.6rem 0 .9rem; }
  .search { display:flex; align-items:flex-start; gap:.6rem; flex-wrap:wrap; }
  .search label { font-weight:700; font-size:.85rem; }
  .search input[type="search"] {
    width: 260px; max-width: 100%;
    padding:.25rem .4rem; border:1px solid #aaa; border-radius:4px; font-size:.9rem; background-color:#f8f9fa;
  }
  .search input:focus { outline:none; border-color:#0c5fce; box-shadow:0 0 0 2px rgba(26,115,232,.25); }
  .search button { padding:.25rem .5rem; font-size:.85rem; border:1px solid #aaa; border-radius:4px; background:#f8f9fa; cursor:pointer; }
  .search button:hover { background:#e2e2e2; }

  .content-bound{
    width:100%;
    max-width: min(100%, calc(100vw - var(--sidebar-width) - var(--page-gutter)));
    box-sizing: border-box;
  }
  .table-wrap{ width:100%; overflow-x:auto; -webkit-overflow-scrolling: touch; }

  table#allPapers { width:100%; border-collapse: collapse; font-size: 0.95rem; table-layout: fixed; }
  @media (max-width: 768px){ table#allPapers { table-layout: auto; } }

  #allPapers th:nth-child(1), #allPapers td:nth-child(1) { width: 6ch; }  /* Year */
  #allPapers th:nth-child(4), #allPapers td:nth-child(4) { width: 8ch; }  /* Citations */
  #allPapers th:nth-child(2), #allPapers td:nth-child(2),
  #allPapers th:nth-child(3), #allPapers td:nth-child(3) { width: auto; }
  #allPapers thead th { white-space: normal; }
  #allPapers tbody td { white-space: normal; word-break: break-word; overflow-wrap: anywhere; }

  #allPapers td:nth-child(1), #allPapers th:nth-child(1),
  #allPapers td:nth-child(4), #allPapers th:nth-child(4) {
    text-align:right; font-variant-numeric: tabular-nums;
  }

  @media (max-width: 900px) { #allPapers { font-size: 0.9rem; } }
  @media (max-width: 600px) { #allPapers { font-size: 0.85rem; } }

  #loading {
    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: 1.05em; text-align: center; z-index: 10; background: white;
    padding: .8em 1.2em; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,.08);
  }
</style>

<script>
(function () {
  const loaderEl = document.getElementById('loading');
  const input = document.getElementById('globalSearch');
  const reset = document.getElementById('resetSearch');

  // Adjust this if your paper pages aren't /publications/<key>:
  const PAGE_URL_PREFIX = '{{ site.baseurl }}' + '/publications/';
  const PAGE_URL_SUFFIX = ''; // e.g. '.html' if needed

  async function loadJSON() {
    // Fetch from repo root
    const res = await fetch('{{ site.baseurl }}/paper-abstracts.json', { cache: 'force-cache' });
    if (!res.ok) throw new Error('Failed to load paper-abstracts.json');
    return res.json();
  }

  function toNumber(x) {
    if (x === null || x === undefined) return 0;
    if (typeof x === 'number') return x;
    // Strip commas and non-digits
    const n = String(x).replace(/,/g, '').match(/-?\d+(\.\d+)?/);
    return n ? Number(n[0]) : 0;
  }

  function hasDT() {
    return window.jQuery && jQuery.fn && jQuery.fn.dataTable;
  }

  function buildTable(rows) {
  // Transform JSON into the minimal fields we need
  const data = rows.map(r => {
    const year = toNumber(r.year);
    const citations = toNumber(r.citations);
    const key = r.key || '';
    const title = (r.title || '').trim();
    const short_authors = Array.isArray(r.short_authors)
      ? r.short_authors.join(', ').trim()
      : (r.short_authors || '').trim();
    const authors = Array.isArray(r.authors)
      ? r.authors.join(', ').trim()
      : (r.authors || '').trim();

    const url = (r.url && String(r.url)) ||
      (key ? (PAGE_URL_PREFIX + encodeURIComponent(key) + PAGE_URL_SUFFIX) : null);

    return {
      year,
      title,
      title_link: url ? `<a href="${url}">${escapeHtml(title)}</a>` : escapeHtml(title),
      short_authors,
      authors,   // keep full authors hidden but searchable
      citations
    };
  });

  const isMobile = window.matchMedia('(max-width: 768px)').matches;
  const PAGE_LEN   = isMobile ? 50 : 200;
  const LENGTH_MENU = isMobile ? [25, 50, 75, 100] : [25, 50, 100, 250, 1000, 2000];

  const dt = jQuery('#allPapers').DataTable({
    data,
    columns: [
      { data: 'year' },
      { data: 'title_link' },
      { data: 'short_authors' },   // show short authors in the visible column
      { data: 'citations' },
      { data: 'authors', visible: false, searchable: true } // hidden full authors
    ],
    columnDefs: [
      { targets: 1, render: (data)=>data, orderable: true },
      { targets: [0,3], type: 'num', searchable: false },  // Year & Citations not searchable
      { targets: [1,2,4], searchable: true }               // Title, short_authors, and hidden authors searchable
    ],
    paging: true,
    pageLength: PAGE_LEN,
    lengthMenu: LENGTH_MENU,
    searching: true,
    order: [[3, 'desc']],    // Citations desc
    autoWidth: true,
    deferRender: true,
    stateSave: !isMobile,
    scrollX: true,
    responsive: false,
    orderClasses: false,
    dom: 't<"bottom"ip>',
    initComplete: function () {
      const api = this.api();
      if (loaderEl) loaderEl.style.display = 'none';

      const debounce = (fn, ms = 100) => { let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), ms); }; };
      if (input) input.addEventListener('input', debounce(() => api.search(input.value).draw(false), 80));
      if (reset) reset.addEventListener('click', () => {
        if (!input) return;
        input.value='';
        api.search('').draw(false);
        input.focus();
      });

      setTimeout(() => api.columns.adjust().draw(false), 60);
    }
  });

  const recalc = (() => { let t; return () => { clearTimeout(t); t=setTimeout(() => dt.columns.adjust(), 120); }; })();
  window.addEventListener('resize', recalc);
  window.addEventListener('orientationchange', recalc);
}

  // Simple HTML escaper for titles
  function escapeHtml(s) {
    return String(s)
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#39;');
  }

  async function start() {
    try {
      if (!hasDT()) throw new Error('DataTables missing');
      const rows = await loadJSON();
      buildTable(rows);
    } catch (err) {
      console.error(err);
      if (loaderEl) loaderEl.innerHTML = '<p>Sorry, failed to load papers.</p>';
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', start, { once: true });
  } else {
    start();
  }
})();
</script>
