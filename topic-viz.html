<!DOCTYPE html>
<html lang="en-us">

  <head>
<!-- Begin Web-Stat code v 7.0 -->
<span id="wts2185304"></span>
<script>var wts=document.createElement('script');wts.async=true;
wts.src='https://app.ardalio.com/log7.js';document.head.appendChild(wts);
wts.onload = function(){ wtslog7(2185304,4); };
</script><noscript><a href="https://www.web-stat.com">
<img src="https://app.ardalio.com/7/4/2185304.png" 
alt="Web-Stat web statistics"></a></noscript>
<!-- End Web-Stat code v 7.0 -->
  <!-- Hotjar Tracking Code for https://learning2hash.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1843243,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109544763-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109544763-1');
</script>
<script>
    window.MathJax = {
      tex: {
        inlineMath: [["\\(","\\)"]],
        displayMath: [["\\[","\\]"]],
      },
      options: {
        processHtmlClass: "mathjax-content",
        processEscapes: true,
      }
    };
  </script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="keywords" content="machine learning, hashing, approximate nearest neighbour search, lsh, learning-to-hash">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Explore Learning to Hash Papers by Topic | Awesome Learning to Hash</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Explore Learning to Hash Papers by Topic" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Interactive topic model explorer — adjust topic weights to see the most relevant papers" />
<meta property="og:description" content="Interactive topic model explorer — adjust topic weights to see the most relevant papers" />
<link rel="canonical" href="https://learning2hash.github.io/topic-viz.html" />
<meta property="og:url" content="https://learning2hash.github.io/topic-viz.html" />
<meta property="og:site_name" content="Awesome Learning to Hash" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Explore Learning to Hash Papers by Topic" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Interactive topic model explorer — adjust topic weights to see the most relevant papers","headline":"Explore Learning to Hash Papers by Topic","url":"https://learning2hash.github.io/topic-viz.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.svg">
  <link rel="search" href="/public/opensearchdescription.xml" 
      type="application/opensearchdescription+xml" 
      title="learning2hash" />

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  
  <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
  <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
</head>


  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <body class="theme-base-0c layout-reverse">

    <a href='/contributing.html' class='ribbon'>Add your paper to Learning2Hash</a>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Awesome Learning to Hash
        </a>
      </h1>
      <p class="lead">A Webpage dedicated to the latest research on Hash Function Learning. Maintained by <a href="http://sjmoran.github.io/">Sean Moran</a>.</p>
    </div>

    <nav class="sidebar-nav">
      <div class="sidebar-item">
        <p style="font-size: 12px">
          Search related work 
          <input type='text' id='searchTarget' size="16"/> 
          <button onClick="search();">Go</button>
        </p>
      </div>
      <a class="sidebar-nav-item" href="/papers.html">All Papers</a>
      <a class="sidebar-nav-item" href="/tags.html">Papers by Tag</a>
      <a class="sidebar-nav-item" href="/tsne-viz.html">2D Map of Papers</a>
      <a class="sidebar-nav-item active" href="/topic-viz.html">Topic Explorer</a>
      <a class="sidebar-nav-item" href="/author-viz.html">Author Explorer </a>
      <a class="sidebar-nav-item" href="/tutorial.html">Tutorial</a>
      <a class="sidebar-nav-item" href="/resources.html">Resources, Courses &#38; Events</a>
      <a class="sidebar-nav-item" href="/contributing.html">Contributing</a>
    </nav>

    <div class="sidebar-item">
      <p style="font-size: 12px">
        Contact <a href="http://www.seanjmoran.com">Sean Moran</a> about this survey or website.
        <span style="font-size: 9px">
          Made with <a href="https://jekyllrb.com">Jekyll</a> and <a href="https://github.com/poole/hyde">Hyde</a>.
        </span>
      </p>
    </div>
  </div>
</div>

<script>
$("#searchTarget").keydown(function (e) {	
  if (e.keyCode == 13) {
    search();
  }
});

function search() {
  try {
    ga('send', 'event', 'search', 'search', $("#searchTarget").val());
  } finally {
    window.location = "/papers.html#" + $("#searchTarget").val();
  }
}
</script>


    <div class="content container">
      <h2>Topic Explorer</h2>
<p>
  This page uses topic modelling to group Learning to Hash  papers by their most important themes.
  Use the sliders to change topic importance and see the top matching papers update instantly.
</p>

<!-- ===== Full-bleed Topic Panel ===== -->
<div class="full-bleed">
  <div class="inner">
    <!-- Topic Filters (expanded by default) -->
    <details id="topicPanel" class="topic-panel" open>
      <summary>
        <span class="summary-left">
          <!-- Chevron icon (rotates when open) -->
          <svg class="summary-caret" width="14" height="14" viewBox="0 0 20 20" aria-hidden="true">
            <path d="M7 5l6 5-6 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          <span><strong>Topic weights</strong></span>
        </span>
        <span class="summary-meta">
          <span id="activeSummary" class="small" aria-live="polite">No active weights</span>
          <span id="expandHint" class="summary-hint" aria-hidden="true">Click to collapse</span>
        </span>
      </summary>

      <div class="topic-actions">
        <button id="resetAll" type="button" aria-label="Reset all topic sliders">Reset all</button>
      </div>

      <!-- Topic controls -->
      <div id="topicslider" class="topic-grid" aria-live="polite"></div>
    </details>
  </div>
</div>

<!-- ===== Full-bleed Results ===== -->
<div class="full-bleed">
  <div class="inner">
    <ul id="toppapers" class="pub-list">
      <li>Please move the sliders to look at the papers.</li>
    </ul>
  </div>
</div>

<style>
  /* ========= Full-bleed utilities ========= */
  .full-bleed {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
  }
  .full-bleed .inner {
    max-width: 1400px;   /* adjust to taste */
    margin: 0 auto;
    padding: 0 12px;     /* subtle gutter */
  }
  .full-bleed, .full-bleed * { overflow: visible; }

  /* ========= Panel ========= */
  .topic-panel {
    border: 1px solid #ececf2; border-radius: .75rem; background: #fff; margin: .5rem 0 1rem;
    width: 100%;
  }
  .topic-panel > summary {
    list-style: none; cursor: pointer;
    display: flex; align-items: center; justify-content: space-between;
    gap: .75rem; padding: .6rem .75rem; font-weight: 600;
    user-select: none;
  }
  .topic-panel > summary:hover { background: #fafbff; }
  .topic-panel > summary:focus-visible {
    outline: none; box-shadow: inset 0 0 0 3px rgba(26,115,232,.25); border-radius: .7rem;
  }
  .topic-panel[open] > summary { border-bottom: 1px solid #f0f0f0; }

  .summary-left { display:flex; align-items:center; gap:.5rem; }
  .summary-caret { transition: transform .18s ease; transform-origin: 50% 50%; }
  .topic-panel[open] .summary-caret { transform: rotate(90deg); }

  .summary-meta { display: flex; align-items: center; gap: .6rem; flex-wrap: wrap; }
  .summary-meta .small { font-weight: 400; }
  .summary-hint { color:#6b7280; font-size:.85rem; opacity:.9; }

  /* First-load nudge */
  @keyframes nudge {
    0%,100% { transform: translateX(0); }
    30% { transform: translateX(2px); }
    60% { transform: translateX(-2px); }
  }
  .topic-panel.nudge .summary-caret { animation: nudge 700ms ease-in-out 2; }

  /* Actions row */
  .topic-actions { display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem 0; }
  #resetAll {
    padding:.3rem .55rem; border:1px solid #d9dbe3; border-radius:.4rem; background:#f8f9fb; cursor:pointer;
  }
  #resetAll:hover { background:#eef2f7; }

  /* ========= Topic grid — fill available horizontal space ========= */
  .topic-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* packs tighter than auto-fit */
    gap: .6rem .7rem;
    padding: .6rem .75rem .8rem;
    width: 100%;
  }
  @media (min-width: 1200px) {
    .topic-grid { grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); }
  }
  @media (min-width: 1600px) {
    .topic-grid { grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); }
  }

  /* ========= Topic row ========= */
  .topic-row {
    display: grid;
    grid-template-columns: 1fr minmax(180px, 1fr) auto; /* label | slider grows | value */
    align-items: center;
    gap: .45rem .6rem;
    background: #fff;
    border-radius: .6rem;
    border: 1px solid #ececf2;
    padding: .35rem .5rem;
    width: 100%;
  }

  /* Wider pill label */
  .topic-row .tag-chip {
    text-decoration: none;
    border-radius: 999px;
    padding: .1rem .5rem;
    background: #f6f7f9;
    border: 1px solid #e6e8ec;
    display: inline-flex;
    align-items: center;
    gap: .25rem;
    font-size: .65rem;
    line-height: 1.2;
    color: inherit;
    white-space: nowrap;
    max-width: 60ch;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .topic-row .tag-chip:hover { background: #f0f3f7; }

  /* Slider track fills its column */
  .topic-row input[type="range"] {
    width: 100%;
    -webkit-appearance: none; appearance: none;
    height: 8px; border-radius: 999px;
    background: linear-gradient(90deg, #ddd, #eee);
    vertical-align: middle;
  }
  .topic-row input[type="range"]:focus { outline: none; }
  .topic-row input[type="range"]:focus-visible { box-shadow: 0 0 0 3px #1a73e84d; }
  .topic-row input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none;
    width: 14px; height: 14px; border-radius: 50%;
    background: #1a73e8; border: 2px solid #fff;
    box-shadow: 0 0 0 2px #1a73e880; cursor: grab;
  }
  .topic-row input[type="range"]::-moz-range-thumb {
    width: 14px; height: 14px; border-radius: 50%;
    background: #1a73e8; border: 2px solid #fff;
    box-shadow: 0 0 0 2px #1a73e880; cursor: grab;
  }
  .topic-row .val {
    min-width: 2ch; text-align: right; font-variant-numeric: tabular-nums;
    font-size: .78rem; opacity: .8;
  }

  /* ========= Publications list — responsive grid ========= */
  .pub-list {
    margin: 0; padding-left: 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: .5rem .8rem;
    width: 100%;
  }
  @media (min-width: 1400px) {
    .pub-list { grid-template-columns: repeat(auto-fill, minmax(440px, 1fr)); }
  }
  .pub-list li { list-style: none; margin: 0; }
  .pub-list a { font-weight: 600; }

  /* ========= Small text helpers ========= */
  .small { color:#6b7280; font-size:.9em; }
</style>

<script>
  var all_papers = null;
  var num_topics = -1;

  function makeTopicRow(words, idx) {
    const id = 'topicSlider' + idx;
    const label = words.join(', ');
    return `
      <div class="topic-row" data-idx="${idx}" data-text="${label.toLowerCase()}">
        <span class="tag-chip" title="${label}">${label}</span>
        <input type="range" min="0" max="10" value="0" id="${id}" aria-label="Weight for topic ${idx+1}: ${label}">
        <span class="val" id="${id}Val">0</span>
      </div>
    `;
  }

  function hasActiveWeights() {
    for (let i = 0; i < num_topics; i++) {
      const w = Number(document.getElementById('topicSlider' + i).value) || 0;
      if (w > 0) return true;
    }
    return false;
  }

  function scorePaper(paper_id) {
    let score = 0;
    const topic_dist = all_papers[paper_id].topic_distr;
    for (let i = 0; i < num_topics; i++) {
      const w = Number(document.getElementById('topicSlider' + i).value) || 0;
      score += w * (topic_dist[i] || 0);
    }
    return score;
  }

  function updateActiveSummary() {
    const parts = [];
    for (let i = 0; i < num_topics; i++) {
      const w = Number(document.getElementById('topicSlider' + i).value) || 0;
      if (w > 0) parts.push(`#${i+1}:${w}`);
    }
    document.getElementById('activeSummary').textContent =
      parts.length ? `Active weights: ${parts.join('  ')}` : 'No active weights';
  }

  function renderPapers() {
    const $list = $("#toppapers").empty();

    if (!hasActiveWeights()) {
      $list.append('<li>Please move the sliders to look at the papers.</li>');
      updateActiveSummary();
      return;
    }

    const N = 20;
    const paper_idxs = [];
    let maxScore = 0;

    for (let i = 0; i < all_papers.length; i++) {
      const s = scorePaper(i);
      paper_idxs.push([i, s]);
      if (s > maxScore) maxScore = s;
    }

    if (maxScore <= 0) {
      $list.append('<li>No matches for the current topic weights. Try increasing one or two sliders.</li>');
      updateActiveSummary();
      return;
    }

    paper_idxs.sort((a, b) => b[1] - a[1]);

    for (let i = 0; i < Math.min(N, paper_idxs.length); i++) {
      const data = all_papers[paper_idxs[i][0]];
      $list.append(
        `<li><a href="/publications/${data.key}">${data.title}</a>. ${data.year || ''}</li>`
      );
    }
    updateActiveSummary();
  }

  function resetAll() {
    for (let i = 0; i < num_topics; i++) {
      const el = document.getElementById('topicSlider' + i);
      el.value = 0;
      document.getElementById('topicSlider' + i + 'Val').textContent = '0';
    }
    renderPapers();
  }

  $(document).ready(function() {
    $.getJSON('/topics.json', function(data) {
      all_papers = data.paper_data;
      num_topics = data.topics.length;

      // Build the grid
      let html = '';
      for (let i = 0; i < num_topics; i++) {
        html += makeTopicRow(data.topics[i], i);
      }
      $("#topicslider").html(html);

      // Slider events
      for (let i = 0; i < num_topics; i++) {
        const id = 'topicSlider' + i;
        $("#" + id).on("input change", function() {
          document.getElementById(id + 'Val').textContent = String(this.value);
          renderPapers();
        });
      }

      // Reset
      $("#resetAll").on("click", resetAll);

      // First render
      renderPapers();

      // Keep the panel OPEN by default
      const panel = document.getElementById('topicPanel');
      panel.open = true;

      // Nudge + hint
      panel.classList.add('nudge');
      setTimeout(() => panel.classList.remove('nudge'), 1600);

      const hint = document.getElementById('expandHint');
      function syncHint() {
        hint.textContent = panel.open ? 'Click to collapse' : 'Click to expand';
      }
      syncHint();
      panel.addEventListener('toggle', syncHint);
    });
  });

  // Keyboard shortcuts
  document.addEventListener('keydown', (e) => {
    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'r') {
      e.preventDefault();
      resetAll();
    }
  });
</script>

    </div>

  </body>
</html>
